<!DOCTYPE html>
<html>
   <head>
	 <title> Grambys Clicker </title>
    <meta name ="description" content="drive to grambys and buy stuff for wads lol"
    <meta charset="UTF-8">
      <link rel="stylesheet" href="style.css">
      <link rel="shortcut icon" href="images/grambicon.png" type="image/x-icon">  
 </head>
 <body>
       <center> <h1> ROAD TO GRAMBYS CLICKER GAME </h1> </center>
	 <h5> beta 1.0 lol </h5>
    <hr>
	 <h1>MILE <span id="myText"></span></h1> 
	 <h2><span id="cash"></span> WADS</h2>
		<button id="button" style="border:1px solid #19a97c; background-color: transparent;" onclick="clicked()" type="button">
			<img id="image" src="images/carfricklet.png"> </button>  
<button style="float: right; border: 0.1px solid #19a97c; background-color: transparent;" onclick="thruster()">
	<img src="images/axoant.png"> </button>
   <script>
       //define vars
       if (localStorage.getItem("traveld") == null) {
	       localStorage.setItem("traveld", 0); 
       }

       if (localStorage.getItem("money") == null) {
	    localStorage.setItem("money", 0);    
       }
       //load game
       var miles = localStorage.getItem("traveld");
       var wads = localStorage.getItem("money");
       var plus = parseInt(miles);
       var wadd = parseInt(wads);
       console.log(wads)
       console.log(miles)
         
       if (miles >= 1) {
	       numberupdated()
       }
        if (wads >= 1) {
	wadUpdate()
	}
	  
      //functions
      function clicked() {
	  miles = parseInt(plus);
	  plus += 1;
	  localStorage.setItem("traveld", miles);
	  numberupdated();
	  driveImage();
         if (miles % 10 === 0) {
          wadd += 1;
          localStorage.setItem("money", wads);
          wads = parseInt(wadd);
          wadUpdate()
       }
       }  
	function numberupdated () {
	(() => {
		document.getElementById("myText").innerHTML = miles;
	})();
	}
	 function wadUpdate () {
	(() => {
		document.getElementById("cash").innerHTML = wads;
	})();
	}
	 //wipe save function
	function wipeSave () {
		miles = 0;
		plus = 1;
	        wads = 0;
		wadd = 0;
		localStorage.setItem("traveld", miles);
	        localStorage.setItem("money", wads);
		wadUpdate()
	        numberupdated()
	}
	function buttonFunction(){
     document.getElementById("buttonAppear").innerHTML = '<button onclick="wipeSave()">Confirm Wipe</button>';
       }
	   //button anim
	   var myHoverInterval = null;
var btn = document.getElementById("button");
btn.addEventListener("mouseover", function() {
    if (myHoverInterval != null) {
        return;
    }
    myHoverInterval = setInterval(function() {
    }, 1);
});
	   btn.addEventListener("mouseout", function() {
    if (myHoverInterval != null) {
        clearInterval(myHoverInterval);
        myHoverInterval = null;
	changeImage()
    }
});
function changeImage() {
var img = document.getElementById("image");
img.src="images/carfricklet2.png";
originalImage()
return false;
}

originalImage = setInterval(function(){
var img = document.getElementById("image");
img.src="images/carfricklet.png";
return false;
}, 2000);
	   
function driveImage() {
var img = document.getElementById("image");
img.src="images/carfricklet3.png"
return false
}
	 </script>
	 <br><br><br><br> <button onclick="buttonFunction()" type="button"> WIPE SAVE </button>
	 <span id="buttonAppear"></span>
     </body>
   </html>
       
