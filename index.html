<!DOCTYPE html>
<html>
   <head>
	 <title> Grambys Clicker </title>
    <meta name ="description" content="drive to grambys and buy stuff for wads lol"
    <meta charset="UTF-8">
      <link rel="stylesheet" href="style.css">
      <link rel="shortcut icon" href="images/grambicon.png" type="image/x-icon">  
	   <style>
        .left { position:fixed;width:70% }
	.right { float:right;width:9.%; border-radius: 25px; border: 13px solid #a4a4a4; background-color: #4f3b66;}
	   </style>
 </head>
 <body>
	 <div>
		<div class="left">
       <center> <h1> ROAD TO GRAMBYS CLICKER GAME </h1> </center>
	 <h5> beta 1.0 lol </h5> <b><p style="color:red"> this is an early release build so expect bugs, or dont ¯\_(ツ)_/¯ </p></b>
	 <div id="switchAppear">
		<button title="Thrusters now automatically drive you forward 0.2 miles."  style="float: left; border:1px solid transparent; background-color: transparent;" onclick="document.getElementById('itemV').innerHTML='s1'; buy(); "> 
			<h3> 15 WADS </h3> 
			<img width="60" height="60" src="images/switch.png"></button> 
	 </div>
          <div id="switch2Appear">
		<button title="Thrusters and Rockets now automatically drive you forward."  style="float: left; border:1px solid transparent; background-color: transparent;" onclick="document.getElementById('itemV').innerHTML='s2'; buy(); "> 
			<h3> 50 WADS </h3> 
			<img width="60" height="60" src="images/switch2.png"></button> 
		  </div>
			<!--gramby x value-->
	<div id="grambyx2Appear">
		<button title="Grambys are twice as efficient."  style="float: left; border:1px solid transparent; background-color: transparent;" onclick="document.getElementById('itemV').innerHTML='gx2'; buy(); "> 
			<h3> 150 WADS </h3> 
			<img width="60" height="60" src="images/grambyx2.png"></button> 
		  </div>
		 
		 <br> <br> <br> <br> <br> <br> <h6> <span id="itemV"> </span> <span id="purchaseV"> </span> </h6>
    <hr>

	 <h1>MILE <span id="myText"></span></h1> 
			<b><p style="color: #78ff7a"> Miles Per Second: <span id="mpsauto"> </p></b>
	 <h2><span id="cash"></span> WADS</h2>
	<button id="button" style="border:1px solid transparent; background-color: transparent;" onclick="clicked()" type="button">
		<img id="image" src="images/realcarfricklet.png">
		<br><br><br><br> <button onclick="buttonFunction()" type="button"> WIPE SAVE </button>
	 <span id="buttonAppear"></span>
		</div>
		 <div class="right">
	<div>
		<br>
		<!-- shop items -->
<button title="Boosts your clicks per second by 0.2, automatically does 0.2 miles per second with a switch." style="float: left; border-radius: 25px 25px 0px 0px; border: 3px solid #FFFFFF; background-color: #FFFFFF;" onclick="document.getElementById('itemV').innerHTML='t'; buy();">
	<h3>$<span id="thrustcost"></span></h3>  
	<img src="images/thruster.png"> </button>
        <h3 style="background-color: #311e40; border-radius: 25px; border: 3px solid #311e40"><span id="thrustrs"></span> THRUSTERS</h3>  
</div>
			 
     <div id="rocketAppear">
	<button title="Boosts your clicks per second by 0.5, automatically does 0.5 miles per second with a 2 splitter." style="float: left; border-radius: 25px 25px 0px 0px; border: 3px solid #FFFFFF; background-color: #FFFFFF;" onclick="document.getElementById('itemV').innerHTML='r'; buy();">
	<h3>$<span id="rockost"></span></h3> 
	<img width="144" height="70" src="images/rocket.png"> </button>
	<h3 style="background-color: #311e40; border-radius: 25px; border: 3px solid #311e40"><span id="rocet"></span> ROCKETS</h3>
</div>
		<div id="grambyAppear">
		<button title="Boosts your clicks per second by 0.5." style="float: left; border-radius: 25px 25px 0px 0px; border: 3px solid #FFFFFF; background-color: #FFFFFF;" onclick="document.getElementById('itemV').innerHTML='g'; buy();">
	        <h3>$<span id="grambuy"></span></h3> 
		<img width="144" height="143" src="images/gramby.png"> </button>
		<h3 style="background-color: #311e40; border-radius: 25px; border: 3px solid #311e40"><span id="grambe"></span> GRAMBYS</h3>
</div>
		 </div>
		 </div>
   <script>


		       

             //define vars
       if (localStorage.getItem("traveld") == null) {
	       localStorage.setItem("traveld", 0);
	       wareMiles = -1;
       }

       if (localStorage.getItem("money") == null) {
	    localStorage.setItem("money", 0);    
       }
       if (localStorage.getItem("truster") == null) {
	    localStorage.setItem("truster", 0);    
       }
       if (localStorage.getItem("granbi") == null) {
	   localStorage.setItem("granbi", 0);
	   }
	if (localStorage.getItem("rocket") == null) {
	   localStorage.setItem("rocket", 0);
	   }
	if (localStorage.getItem("lever") == null) {
	   localStorage.setItem("lever", 0);
	   }
	if (localStorage.getItem("grandX") == null) {
	   localStorage.setItem("grandX", 0);
	   }
       //upgrades
       var switc = localStorage.getItem("lever");
       var switcPrice = 15;
       //shop items
	var ui1 = document.getElementById("grambyAppear");
	var ui2 = document.getElementById("switchAppear");
	var ui3 = document.getElementById("rocketAppear");
	var ui4 = document.getElementById("switch2Appear");
	var ui5 = document.getElementById("grambyx2Appear");
	var theoriticalWad = null;
	//grambys
	var grambys = localStorage.getItem("granbi");
	var grandCost = 0;
	var grandBoost = grambys * 0.5;
	//thrusters
	var thrusters = localStorage.getItem("truster");
	var throst = 2;
	var thrBoost = thrusters * 0.2;
	//rockets
	var rockets = localStorage.getItem("rocket");
	var rocost = 0;
	var roBoost = rockets * 0.5;
	if (thrusters >= 1) {
	throst = parseInt(thrusters);
	throst += 1 * thrusters;
	} else {
		throst = 2;
	}
	   if (grambys >= 1) {
	grandCost = parseInt(grambys);
	grandCost += 9 * grambys;
	   } else {
		   grandCost = 10;
	   }
	   if (rockets >= 1) {
	rocost = parseInt(rockets);
	rocost += 4 * rockets;
	   } else {
		   rocost = 5;
	   }
	ui1.style.display = "none";
	ui2.style.display = "none";
	ui3.style.display = "none";
	ui4.style.display = "none";
	ui5.style.display = "none";
	//autoMps
	  var autoMps = function() {
            autoMps = setInterval(function(){
           if (switc >=2 ) {
	          miles = parseInt(plus);
	       if (switc == 2) { 
	          plus += thrBoost;
		  wareMiles += thrBoost;
	       } else if (switc == 4) {
		  plus += thrBoost + roBoost
		  wareMiles += thrBoost + roBoost; 
	       }
		  numberupdated()
		  localStorage.setItem("traveld", miles);
              if (wareMiles >= 10) {	
                 wadd += 1;
                 localStorage.setItem("money", wads);
                 wads = parseInt(wadd);
                 wadUpdate()
                 wareMiles = 0;
	      }
         }
             }, 1000);
            }
       //load game
       var wareMiles = 0;
       var cpsBoost = 0 
       var miles = localStorage.getItem("traveld");
       var wads = localStorage.getItem("money");
       var plus = parseInt(miles);
       var wadd = parseInt(wads);
       var mpsAuto = 0;
       wads = parseInt(wads);  
       if (miles >= 1) {
	       numberupdated()
       }
        if (wads >= 1) {
	wadUpdate()
	}
	if (switc >= 2) {
         autoMps.call()
	}
	loadSwitch()

	
	
	
      //functions
      function clicked() {
	  cpsBoost = 0;
	  cpsBoost += thrBoost + grandBoost + roBoost;
	  miles = parseInt(plus);
	  plus += 1 + cpsBoost
	  wareMiles += 1 + cpsBoost;
	  localStorage.setItem("traveld", miles);
	  numberupdated();
	  localStorage.setItem("money", wads);
	  driveImage();
        if (wareMiles >= 10) {	
          wadd += 1;
          localStorage.setItem("money", wads);
          wads = parseInt(wadd);
          wadUpdate()
          wareMiles = 0;
       }
       }  
	function numberupdated () {
	(() => {
		if (switc == 2) {
		mpsAuto = 0 + thrBoost;
		} else if (switc == 4) {
	        mpsAuto = 0 + thrBoost + roBoost;
	        }
		document.getElementById("mpsauto").innerHTML = mpsAuto;
		document.getElementById("myText").innerHTML = miles;
		document.getElementById("thrustrs").innerHTML = thrusters;
		document.getElementById("thrustcost").innerHTML = throst;
	        document.getElementById("grambe").innerHTML = grambys;
		document.getElementById("grambuy").innerHTML = grandCost;
		document.getElementById("rocet").innerHTML = rockets;
		document.getElementById("rockost").innerHTML = rocost;
		localStorage.setItem("truster", thrusters);
		localStorage.setItem("rocket", rockets);
		localStorage.setItem("granbi", grambys);
		localStorage.setItem("lever", switc);
		if (miles >= 20) {
			ui3.style.display = "block";
		}
		if (miles >= 115) {
			ui1.style.display = "block";
		}
	})();
	}
	 function wadUpdate () {
	(() => {
		document.getElementById("cash").innerHTML = wads;
		wadd = parseInt(wads);
	})();
	}
	 //buy items
	      function buy() {
		           let in1 = null;
			   let in2 = null;
		           let price = null;
		           let iBoost = null;
		           let boostAmt = null;
			   //what item does what
			   if (document.getElementById('itemV').innerHTML=='t') { // thruster
				   document.getElementById('purchaseV').innerHTML='IB'
				   in1 = thrusters;
				   in2 = throst;
				   price = 1;
				   iBoost = thrBoost;
				   boostAmt = 0.2;
			   } else if (document.getElementById('itemV').innerHTML=='g') { // gramby
                                       document.getElementById('purchaseV').innerHTML='IB'
				   in1 = grambys;
				   in2 = grandCost;
				   price = 9;
				   iBoost = grandBoost;
				   boostAmt = 0.5;
				 } else if (document.getElementById('itemV').innerHTML=='r') { // rocket
					document.getElementById('purchaseV').innerHTML='IB'
				   in1 = rockets;
				   in2 = rocost;
				   price = 4;
				   iBoost = roBoost;
				   boostAmt = 0.5;
			   } else if (document.getElementById('itemV').innerHTML=='s1') {// switch1
				   document.getElementById('purchaseV').innerHTML='SB'
				   price = 15;
			   } else if (document.getElementById('itemV').innerHTML=='s2') {// switch2
                                 document.getElementById('purchaseV').innerHTML='SB'
				   price = 50;
			   
			   }
		      if (document.getElementById('purchaseV').innerHTML=='IB') {
			  if (in1 >= 1) {
			                  in2 = parseInt(in1);
				          in2 += price * in1;
					  } else {
				          in2 = price + 1;
					  }
		                         if (wads >= in2) {
		                            theoreticalWad = wads;
			                    in2 -= in2 * 2;
			                    theoreticalWad += in2; 
			                    wads = parseInt(theoreticalWad);
			                    localStorage.setItem("money", wads);
				            in2 = parseInt(in1);
			                    in2 += 1; //change item by 1
			                    in1 = parseInt(in2);
				            in2 = parseInt(in1);
	                                    in2 += price * in1;
	                                    iBoost = in1 * boostAmt;
				            console.log(iBoost);
				            wadUpdate()  
					 }
		      } else if (document.getElementById('purchaseV').innerHTML=='SB') {
			       if (wads >= price) {
	                          theoreticalWad = wads;
           	                  price -= price * 2;
				  console.log(price)
			          theoreticalWad += price; 
				  console.log(theoreticalWad)
	                          wads = parseInt(theoreticalWad);
       	                          localStorage.setItem("money", wads);
				  switc += 1;
			       }
		      }
		      switch (document.getElementById('itemV').innerHTML) {
			   case "t":
			      thrusters = in1;
			      throst = in2;
			      thrBoost = iBoost;
			      if (switc == 0) {
                                        ui2.style.display = "block";
					switc = 1;	
					localStorage.setItem("lever", switc);
					}
			      break;
			   case "g":
			      grambys = in1;
			      grandCost = in2;
			      grandBoost = iBoost;
			      break;
			   case "r":
			      rockets = in1;
		              rocost = in2;
		              roBoost = iBoost;
			      if (switc == 2 && thrusters >= 1) {
                                        ui4.style.display = "block";
					switc = 3;	
					localStorage.setItem("lever", switc);
					}
			      break;
			   case "s1":
				  ui2.style.display = "none";
				  autoMps.call()
				  break;
			   case "s2":
				  ui4.style.display = "none";
				  break;
		      }
		      numberupdated() 
	      }//nope
 
	
                                

	
	
	 //wipe save function
	function wipeSave () {
		miles = 0;
		plus = 1;
	        wads = 0;
		wadd = 0;
		thrusters = 0;
		throst = 2;
		thrBoost = 0;
		grambys = 0;
		grandCost = 5;
		thrBoost = 0;
		cpsBoost = 0;
		mpsAuto = 0;
		switc= 0;
		ui1.style.display = ui2.style.display = ui3.style.display = ui4.style.display = "none";
		localStorage.setItem("lever", 0);
		localStorage.setItem("truster", thrusters);		
		localStorage.setItem("traveld", miles);
	        localStorage.setItem("money", wads);
                localStorage.setItem("granbi", grambys);
		wadUpdate()
	        numberupdated()
	}
	function buttonFunction(){
     document.getElementById("buttonAppear").innerHTML = '<button onclick="wipeSave()">Confirm Wipe</button>';
       }
	   //button anim
	   var myHoverInterval = null;
var btn = document.getElementById("button");
btn.addEventListener("mouseover", function() {
    if (myHoverInterval != null) {
        return;
    }
    myHoverInterval = setInterval(function() {
    }, 1);
});
	   btn.addEventListener("mouseout", function() {
    if (myHoverInterval != null) {
        clearInterval(myHoverInterval);
        myHoverInterval = null;
	changeImage()
    }
});
function changeImage() {
var img = document.getElementById("image");
img.src="images/realcarfricklet2.png";
originalImage()
return false;
}

function originalImage(){
var img = document.getElementById("image");
img.src="images/realcarfricklet.png";
return false;
}
	   
function driveImage() {
var img = document.getElementById("image");
img.src="images/realcarfricklet3.png"
return false
}
// load upgrades
function loadSwitch() {
if (switc == 1) {
	ui2.style.display = "block";
} else if (switc == 3) {
	ui4.style.display = "block";
}
}
	   
	 </script>
     </body>
   </html>
