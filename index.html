<!DOCTYPE html>
<html>
   <head>
	 <title> Grambys Clicker </title>
    <meta name ="description" content="drive to grambys and buy stuff for wads lol"
    <meta charset="UTF-8">
      <link rel="stylesheet" href="style.css">
      <link rel="shortcut icon" href="images/grambicon.png" type="image/x-icon">  
 </head>
 <body>
       <center> <h1> ROAD TO GRAMBYS CLICKER GAME </h1> </center>
	 <h5> beta 1.0 lol </h5>
    <hr>

	 <h1>MILE <span id="myText"></span></h1> 
	 <h2><span id="cash"></span> WADS</h2>
	<button id="button" style="border:1px solid #19a97c; background-color: transparent;" onclick="clicked()" type="button">
			<img id="image" src="images/carfricklet.png">
		
		<h6><span id="grambe"> </span> <span id="grambuy"></span></h6>
			
 <button title="Boosts your clicks per second by 0.2, automatically does 0.2 miles per second with a switch." style="float: right; border-radius: 25px; border: 3px solid #a4a4a4; background-color: #4f3b66;" onclick="thruster()">
	<h3> <span id="thrustrs"></span> THRUSTERS </h3>   
	<img src="images/thruster.png"> 
	<h3> <span id="thrustcost"></span> WADS </h3>  </button> <br>
		 <span id="grambyAppear"></span>
   <script>
       //define vars
       if (localStorage.getItem("traveld") == null) {
	       localStorage.setItem("traveld", 0); 
       }

       if (localStorage.getItem("money") == null) {
	    localStorage.setItem("money", 0);    
       }
       if (localStorage.getItem("truster") == null) {
	    localStorage.setItem("truster", 0);    
       }
       if (localStorage.getItem("granbi") == null) {
	   localStorage.setItem("granbi", 0);
	   }
       //shop items
	var theoriticalWad = null;
	var grambys = localStorage.getItem("granbi");
	var grandCost = 0;
	var thrusters = localStorage.getItem("truster");
	var throst = 0;
	var thrBoost = thrusters * 0.2
	var grandBoost = grambys * 0.5
	throst = parseInt(thrusters);
	throst += 2;
	grandCost = parseInt(grambys);
	grandCost += 5;
       //load game
       var wareMiles = 0;
       var cpsBoost = 0 
       var miles = localStorage.getItem("traveld");
       var wads = localStorage.getItem("money");
       var plus = parseInt(miles);
       var wadd = parseInt(wads);
       wads = parseInt(wads);  
       if (miles >= 1) {
	       numberupdated()
       }
        if (wads >= 1) {
	wadUpdate()
	}

	
	
	
      //functions
      function clicked() {
	  cpsBoost = 0;
	  cpsBoost += thrBoost;
	  miles = parseInt(plus);
	  plus += 1 + cpsBoost
	  wareMiles += 1 + cpsBoost;
	  console.log(wareMiles)
	  localStorage.setItem("traveld", miles);
	  numberupdated();
	  localStorage.setItem("money", wads);
	  driveImage();
        if (wareMiles >= 10) {	
          wadd += 1;
          localStorage.setItem("money", wads);
          wads = parseInt(wadd);
          wadUpdate()
       if (miles >= 115) {
			document.getElementById("grambyAppear").innerHTML = '<button title="Boosts your clicks per second by 0.5." style="float: right; border-radius: 25px; border: 3px solid #a4a4a4; background-color: #4f3b66;" onclick="gramby()"> <h3> <span id="grambe"></span> GRAMBYS </h3> <img width="144" height="143" src="images/gramby.png"> <h3> <span id="grambuy"></span> WADS </h3>  </button>'
		}
       }
       }  
	function numberupdated () {
	(() => {
		document.getElementById("myText").innerHTML = miles;
		document.getElementById("thrustrs").innerHTML = thrusters;
		document.getElementById("thrustcost").innerHTML = throst;
		//why the fuck is it null
	        document.getElementById("grambe").innerHTML = grambys;
		document.getElementById("grambuy").innerHTML = grandCost;
	})();
	}
	 function wadUpdate () {
	(() => {
		wareMiles = 0;
		document.getElementById("cash").innerHTML = wads;
		wadd = parseInt(wads);
		wareMiles = parseInt(0);
	})();
	}
	 //buy items
	   function thruster() {
		   throst = parseInt(thrusters) 
	           throst += 2
		   if (wads >= throst) {
		       theoreticalWad = wads
			console.log(theoreticalWad);
		       throst -= throst *=2
			console.log(throst);
			theoreticalWad += throst
			 console.log(theoreticalWad);
			wads = parseInt(theoreticalWad);
			throst = parseInt(thrusters);
			throst += 1;
			thrusters = parseInt(throst);
			   throst = parseInt(thrusters);
	                   throst += 3;
			   localStorage.setItem("money", wads);
			   localStorage.setItem("truster", thrusters);
			   thrBoost = thrusters * 0.2;
			   numberupdated()
			   wadUpdate()
		   }  else {
           }   //nope
	   }
	   function gramby() {
		   grandCost = parseInt(grambys) 
	           grandCost += 2
		   if (wads >= grandCost) {
		       theoreticalWad = wads
		       grandCost -= grandCost *=2
			theoreticalWad += grandCost;
			wads = parseInt(theoreticalWad);
			grandCost = parseInt(grambys);
			grandCost += 1;
			grambys = parseInt(grandCost);
			   grandCost = parseInt(grambys);
	                   grandCost += 3;
			   localStorage.setItem("money", wads);
			   localStorage.setItem("granbi", thrusters);
			   grandBoost = grambys * 0.5;
			   numberupdated()
			   wadUpdate()
		   }  else {
           }   //nope
	   }
	 //wipe save function
	function wipeSave () {
		miles = 0;
		plus = 1;
	        wads = 0;
		wadd = 0;
		thrusters = 0;
		throst = 2;
		grambys = 0;
		grandCost = 5;
		localStorage.setItem("truster", thrusters);		
		localStorage.setItem("traveld", miles);
	        localStorage.setItem("money", wads);
	        document.getElementById("grambyAppear").innerHTML = ""
		wadUpdate()
	        numberupdated()
	}
	function buttonFunction(){
     document.getElementById("buttonAppear").innerHTML = '<button onclick="wipeSave()">Confirm Wipe</button>';
       }
	   //button anim
	   var myHoverInterval = null;
var btn = document.getElementById("button");
btn.addEventListener("mouseover", function() {
    if (myHoverInterval != null) {
        return;
    }
    myHoverInterval = setInterval(function() {
    }, 1);
});
	   btn.addEventListener("mouseout", function() {
    if (myHoverInterval != null) {
        clearInterval(myHoverInterval);
        myHoverInterval = null;
	changeImage()
    }
});
function changeImage() {
var img = document.getElementById("image");
img.src="images/carfricklet2.png";
originalImage()
return false;
}

originalImage = setInterval(function(){
var img = document.getElementById("image");
img.src="images/carfricklet.png";
return false;
}, 2000);
	   
function driveImage() {
var img = document.getElementById("image");
img.src="images/carfricklet3.png"
return false
}
	   // auto mps
	   //for (;;) {
	///	   miles = parseInt(cpsBoost)  
	 //  }
	 </script>
	 <br><br><br><br> <button onclick="buttonFunction()" type="button"> WIPE SAVE </button>
	 <span id="buttonAppear"></span>
     </body>
   </html>
       
